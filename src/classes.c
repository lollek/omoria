#include "imoria.h"

spell_t *class_spell(enum class_t class, int slot)
{
	static spell_t no_spell = {"", 99, 99, 0, false};

	static spell_t mage_spells[] = {
	    {"Magic Missile", 1, 1, 22, false},
	    {"Detect Monsters", 1, 1, 23, false},
	    {"Phase Door", 1, 2, 24, false},
	    {"Light Area", 1, 2, 26, false},
	    {"Cure Light Wounds", 3, 3, 25, false},
	    {"Find Hidden Traps/Doors", 3, 3, 55, false},
	    {"Stinking Cloud", 3, 4, 27, false},
	    {"Confusion", 3, 4, 30, false},
	    {"Lightning Bolt", 5, 4, 30, false},
	    {"Trap/Door Destruction", 5, 5, 30, false},
	    {"Sleep I", 5, 5, 30, false},
	    {"Cure Poison", 5, 5, 35, false},
	    {"Shadow Door", 7, 6, 35, false},
	    {"Remove Curse", 7, 6, 50, false},
	    {"Frost Bolt", 7, 6, 40, false},
	    {"Create Food", 7, 6, 40, false},
	    {"Infravision", 7, 6, 40, false},
	    {"Invisibility", 7, 6, 35, false},
	    {"Turn Stone to Mud", 9, 7, 44, false},
	    {"Recharge Item I", 9, 7, 75, false},
	    {"Sleep II", 9, 7, 45, false},
	    {"Phantasmal Force", 11, 7, 50, false},
	    {"Polymorph Other", 11, 7, 45, false},
	    {"Identify", 11, 7, 99, false},
	    {"Ring of Frost", 13, 7, 45, false},
	    {"Sleep III", 13, 7, 50, false},
	    {"Hold Monster", 15, 9, 50, false},
	    {"Fire Bolt", 15, 9, 50, false},
	    {"Slow Creature", 17, 9, 50, false},
	    {"Protection from Magic", 17, 9, 55, false},
	    {"Frost Ball", 19, 12, 55, false},
	    {"Death Spell", 19, 18, 55, false},
	    {"Ring of Fire", 21, 12, 60, false},
	    {"Recharge Item II", 21, 12, 90, false},
	    {"Teleport Other", 23, 15, 60, false},
	    {"Haste Self", 25, 15, 65, false},
	    {"Fire Ball", 28, 18, 65, false},
	    {"Power Word: Destruction", 31, 21, 80, false},
	    {"Power Word: Kill", 34, 25, 80, false},
	    {"Genocide", 37, 25, 95, false}};

	static spell_t priest_spells[] = {
	    {"Detect Evil", 1, 1, 10, false},
	    {"Cure Light Wounds", 1, 2, 15, false},
	    {"Bless", 1, 2, 20, false},
	    {"Remove Fear", 1, 2, 25, false},
	    {"Call Light", 3, 2, 25, false},
	    {"Find Traps", 3, 3, 27, false},
	    {"Detect Doors/Stairs", 3, 3, 27, false},
	    {"Slow Poison", 3, 3, 28, false},
	    {"Blind Creature", 5, 4, 29, false},
	    {"Portal", 5, 4, 30, false},
	    {"Cure Medium Wounds", 5, 4, 32, false},
	    {"Ray of Sanctification", 5, 4, 40, false},
	    {"Heroism", 7, 4, 40, false},
	    {"Sanctuary", 7, 5, 36, false},
	    {"Remove Curse", 7, 6, 38, false},
	    {"Resist Heat and Cold", 7, 7, 38, false},
	    {"Silence", 9, 7, 40, false},
	    {"Resist Petrification", 9, 7, 40, false},
	    {"Neutralize Poison", 9, 7, 38, false},
	    {"Cure Serious Wounds", 9, 7, 40, false},
	    {"Chant", 11, 8, 34, false},
	    {"Sense Invisible", 11, 8, 42, false},
	    {"Protection from Evil", 11, 8, 42, false},
	    {"Earthquake", 11, 9, 55, false},
	    {"Create Food and Drink", 13, 9, 38, false},
	    {"Sense Surroundings", 13, 10, 45, false},
	    {"Orb of Draining", 13, 10, 58, false},
	    {"Cure Critical Wounds", 15, 11, 45, false},
	    {"Turn Undead", 15, 12, 50, false},
	    {"Holy Prayer", 17, 14, 50, false},
	    {"Dispel Undead", 17, 14, 55, false},
	    {"Resist Paralysis", 19, 15, 55, false},
	    {"Blade Barrier", 21, 16, 60, false},
	    {"Dispel Evil", 23, 18, 70, false},
	    {"Heal", 25, 20, 60, false},
	    {"Resist Magic", 27, 22, 80, false},
	    {"Holy of Thunder", 30, 23, 70, false},
	    {"Glyph of Warding", 33, 24, 90, false},
	    {"Hero's Feast", 35, 28, 95, false},
	    {"Holy Word", 39, 32, 99, false}};

	static spell_t rogue_spells[] = {
	    {"Detect Monsters", 3, 2, 35, false},
	    {"Battle Song", 3, 2, 35, false},
	    {"Blink", 3, 2, 35, false},
	    {"Light Area", 5, 4, 35, false},
	    {"Find Hidden Doors/Traps", 5, 5, 45, false},
	    {"Magical Jig", 7, 8, 40, false},
	    {"Detect Magic", 7, 9, 70, false},
	    {"", 99, 99, 0, false},
	    {"Battle Dance", 9, 10, 45, false},
	    {"Charm Monsters", 9, 11, 50, false},
	    {"Detect Curse", 11, 12, 40, false},
	    {"Detect Invisible", 11, 12, 40, false},
	    {"Cure Poison", 13, 14, 45, false},
	    {"Invisibility", 15, 16, 50, false},
	    {"Shadow Gate", 17, 18, 55, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"Recharge Item", 19, 18, 55, false},
	    {"Remove Curse", 21, 20, 90, false},
	    {"Legend Lore", 23, 22, 95, false},
	    {"", 99, 99, 0, false},
	    {"Detect Treasure", 25, 25, 50, false},
	    {"Detect Object", 25, 25, 55, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"Word of Recall", 27, 27, 60, false},
	    {"", 99, 99, 0, false},
	    {"See Invisible", 29, 29, 65, false},
	    {"Magic Mapping", 31, 30, 70, false},
	    {"", 99, 99, 0, false},
	    {"Battle Frenzy", 33, 31, 70, false},
	    {"", 99, 99, 0, false},
	    {"Resist Charm", 35, 32, 70, false},
	    {"Item Lore", 37, 33, 95, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false}};

	static spell_t ranger_spells[] = {
	    {"Moon Beam", 1, 2, 20, false},
	    {"Detect Monster", 1, 2, 33, false},
	    {"Battle Song", 2, 3, 35, false},
	    {"Light", 2, 3, 35, false},
	    {"Minor Cure", 3, 4, 40, false},
	    {"Find Safe Path", 4, 5, 45, false},
	    {"Magical Jig", 4, 5, 45, false},
	    {"Warp Wood", 4, 5, 45, false},
	    {"Battle Dance", 5, 5, 40, false},
	    {"Cure Poison", 5, 5, 48, false},
	    {"Charm", 7, 5, 35, false},
	    {"Detect Curse", 7, 6, 45, false},
	    {"Summon Insects", 7, 7, 50, false},
	    {"Call Lightning", 9, 9, 55, false},
	    {"Magic Resistance", 9, 10, 45, false},
	    {"", 99, 99, 0, false},
	    {"Create Food", 9, 10, 55, false},
	    {"Remove Curse", 11, 10, 45, false},
	    {"Infravision", 11, 10, 50, false},
	    {"Major Cure", 11, 11, 50, false},
	    {"Resist Petrification", 13, 11, 55, false},
	    {"Transplant", 13, 11, 45, false},
	    {"", 99, 99, 0, false},
	    {"Dispel Magic", 15, 11, 58, false},
	    {"Fire Stream", 15, 11, 70, false},
	    {"Protection from Nature", 17, 12, 55, false},
	    {"Stone to Mud", 17, 12, 55, false},
	    {"Goodberry", 19, 14, 65, false},
	    {"Creeping Doom", 37, 21, 65, false},
	    {"Pillar of Fire", 23, 15, 65, false},
	    {"Word of Recall", 25, 15, 50, false},
	    {"Lightning Ball", 27, 15, 90, false},
	    {"Word of Blindness", 29, 16, 55, false},
	    {"Protection from Monsters", 31, 20, 60, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"Resist Charm", 33, 22, 65, false},
	    {"Battle Frenzy", 35, 25, 65, false},
	    {"Dispel Monster", 37, 30, 70, false},
	    {"", 99, 99, 0, false}};

	static spell_t paladin_spells[] = {
	    {"Detect Evil", 1, 1, 30, false},
	    {"Cure Light Wounds", 2, 2, 35, false},
	    {"Bless", 3, 3, 35, false},
	    {"Remove Fear", 5, 3, 35, false},
	    {"Call Light", 5, 4, 35, false},
	    {"Find Traps", 7, 5, 40, false},
	    {"Detect Doors/Stairs", 7, 5, 40, false},
	    {"Slow Poison", 9, 7, 40, false},

	    {"Blind Creature", 9, 7, 40, false},
	    {"Portal", 9, 8, 40, false},
	    {"Cure Medium Wounds", 11, 9, 40, false},
	    {"Ray of Sanctification", 11, 9, 40, false},
	    {"Heroism", 11, 9, 40, false},
	    {"Sanctuary", 13, 10, 45, false},
	    {"Remove Curse", 13, 11, 45, false},
	    {"Resist Heat and Cold", 15, 13, 45, false},
	    {"Silence", 15, 13, 45, false},
	    {"Resist Petrification", 15, 13, 50, false},

	    {"Neutralize Poison", 15, 15, 50, false},
	    {"Cure Serious Wounds", 17, 15, 50, false},
	    {"Chant", 17, 15, 70, false},
	    {"Sense Invisible", 19, 15, 50, false},
	    {"Protection from Evil", 19, 15, 50, false},
	    {"Earthquake", 21, 17, 50, false},
	    {"Create Food and Drink", 21, 10, 45, false},
	    {"Sense Surroundings", 23, 17, 50, false},
	    {"Orb of Draining", 23, 20, 85, false},
	    {"Cure Critical Wounds", 25, 20, 50, false},
	    {"Turn Undead", 25, 21, 50, false},
	    {"Holy Prayer", 27, 22, 50, false},

	    {"Dispel Undead", 29, 24, 60, false},
	    {"Resist Paralysis", 31, 26, 55, false},
	    {"Blade Barrier", 33, 27, 60, false},
	    {"Dispel Evil", 35, 28, 70, false},
	    {"Heal", 37, 32, 75, false},
	    {"Resist Magic", 38, 32, 75, false},
	    {"Holy Thunder", 39, 30, 80, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false}};

	static spell_t druid_spells[] = {
	    {"Moon Beam", 1, 1, 15, false},
	    {"Detect Monster", 1, 1, 15, false},
	    {"Battle Song", 1, 2, 20, false},
	    {"Light", 1, 2, 25, false},
	    {"Minor Cure", 3, 3, 25, false},
	    {"Find Safe Path", 3, 3, 28, false},
	    {"Magical Jig", 3, 3, 27, false},
	    {"Warp Wood", 3, 4, 29, false},
	    {"Battle Dance", 5, 4, 30, false},
	    {"Cure Poison", 5, 4, 30, false},
	    {"Charm", 5, 5, 45, false},
	    {"Detect Curse", 5, 5, 50, false},
	    {"Summon Insects", 7, 5, 35, false},
	    {"Call Lightning", 7, 5, 38, false},
	    {"Magic Resistance", 7, 6, 40, false},
	    {"Starlight", 7, 6, 40, false},
	    {"Create Food", 9, 6, 40, false},
	    {"Remove Curse", 9, 6, 55, false},
	    {"Infravision", 9, 7, 40, false},
	    {"Major Cure", 9, 7, 40, false},
	    {"Resist Petrification", 11, 7, 45, false},
	    {"Transplant", 11, 8, 55, false},
	    {"Sunray", 11, 9, 60, false},
	    {"Dispel Magic", 11, 9, 50, false},
	    {"Fire Stream", 11, 9, 65, false},
	    {"Protection from Nature", 13, 9, 40, false},
	    {"Stone to Mud", 13, 9, 50, false},
	    {"Goodberry", 15, 11, 50, false},
	    {"Creeping Doom", 33, 17, 65, false},
	    {"Pillar of Fire", 15, 11, 55, false},
	    {"Word of Recall", 17, 11, 60, false},
	    {"Lightning Ball", 17, 12, 55, false},
	    {"Word of Blindness", 19, 12, 55, false},
	    {"Protection from Monsters", 21, 14, 55, false},
	    {"Control Temperature", 23, 17, 60, false},
	    {"Ring of Fire", 25, 19, 75, false},
	    {"Resist Charm", 27, 21, 75, false},
	    {"Battle Frenzy", 29, 23, 70, false},
	    {"Dispel Monster", 31, 25, 80, false},
	    {"Note of Destruction", 34, 27, 85, false}};

	static spell_t bard_spells[] = {
	    {"Detect Monsters", 1, 1, 35, false},
	    {"Battle Song", 1, 2, 35, false},
	    {"Blink", 1, 2, 35, false},
	    {"Light Area", 1, 2, 35, false},
	    {"Detect Hidden Doors/Traps", 3, 3, 45, false},
	    {"Magical Jig", 3, 4, 40, false},
	    {"Detect Magic", 3, 4, 60, false},
	    {"Minor Cure", 3, 4, 40, false},
	    {"Battle Dance", 5, 5, 45, false},
	    {"Charm Monsters", 5, 5, 40, false},
	    {"Detect Curse", 5, 9, 50, false},
	    {"Detect Invisible", 7, 8, 45, false},
	    {"Cure Poison", 7, 8, 45, false},
	    {"Invisibility", 7, 11, 55, false},
	    {"Teleport Self", 9, 10, 50, false},
	    {"Infravision", 9, 11, 55, false},
	    {"Physical Humor", 9, 11, 55, false},
	    {"Recharge Item", 11, 11, 85, false},
	    {"Remove Curse", 13, 12, 55, false},
	    {"Legend Lore", 11, 13, 99, false},
	    {"Mass Charm", 11, 12, 55, false},
	    {"Detect Treasure", 13, 11, 80, false},
	    {"Detect Object", 13, 11, 80, false},
	    {"Resist Petrification", 15, 12, 60, false},
	    {"Create Food and Drink", 15, 13, 60, false},
	    {"Panic", 15, 15, 60, false},
	    {"Word of Recall", 17, 15, 60, false},
	    {"Protection from Nature", 17, 16, 65, false},
	    {"See Invisible", 17, 16, 60, false},
	    {"Magic Mapping", 19, 18, 65, false},
	    {"Joke of Death", 19, 18, 60, false},
	    {"Battle Frenzy", 19, 18, 80, false},
	    {"Slow Creature", 21, 19, 65, false},
	    {"Resist Charm", 23, 22, 65, false},
	    {"Item Lore", 25, 20, 90, false},
	    {"Song of Protection", 27, 25, 70, false},
	    {"Last Laugh", 29, 23, 70, false},
	    {"Teleport Level", 31, 27, 75, false},
	    {"Clairvoyance", 35, 29, 92, false},
	    {"Song of Power", 39, 32, 97, false}};

	static spell_t adventurer_spells[] = {
	    {"Magic Missile", 3, 1, 30, false},
	    {"Detect Monsters", 3, 2, 35, false},
	    {"Phase Door", 3, 2, 35, false},
	    {"Light Area", 5, 3, 26, false},
	    {"Cure Light Wounds", 5, 3, 25, false},
	    {"Find Hidden Traps/Doors", 7, 4, 45, false},
	    {"Stinking Cloud", 7, 6, 40, false},
	    {"Confusion", 9, 6, 40, false},
	    {"Lightning Bolt", 9, 7, 40, false},
	    {"Trap/Door Destruction", 11, 8, 45, false},
	    {"Sleep I", 11, 8, 40, false},
	    {"Cure Poison", 13, 9, 45, false},
	    {"Shadow Door", 13, 10, 45, false},
	    {"Remove Curse", 15, 11, 55, false},
	    {"Frost Bolt", 15, 12, 50, false},
	    {"Create Food", 17, 12, 55, false},
	    {"Infravision", 17, 12, 50, false},
	    {"Invisibility", 17, 13, 50, false},
	    {"Turn Stone to Mud", 19, 15, 50, false},
	    {"Recharge Item I", 19, 17, 90, false},
	    {"Sleep II", 21, 17, 55, false},
	    {"Phantasmal Force", 21, 19, 50, false},
	    {"Polymorph Other", 23, 19, 60, false},
	    {"Identify", 23, 25, 95, false},
	    {"Ring of Frost", 25, 19, 60, false},
	    {"Sleep III", 25, 20, 60, false},
	    {"Hold Monster", 27, 20, 50, false},
	    {"Fire Bolt", 27, 20, 60, false},
	    {"Slow Creature", 29, 21, 65, false},
	    {"Protection From Magic", 31, 21, 70, false},
	    {"Frost Ball", 31, 21, 65, false},
	    {"Death Spell", 33, 21, 60, false},
	    {"Ring of Fire", 35, 21, 65, false},
	    {"Recharge Item II", 35, 23, 95, false},
	    {"Teleport Other", 37, 25, 70, false},
	    {"Haste Self", 37, 25, 75, false},
	    {"Fire Ball", 39, 27, 80, false},
	    {"Power Word: Destruction", 39, 30, 95, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false}};

	static spell_t monk_spells[] = {
	    {"Self-Healing", 3, 3, 50, false},
	    {"Courage", 5, 5, 50, false},
	    {"Slow Poison", 7, 7, 50, false},
	    {"Negate Hunger", 9, 9, 50, false},
	    {"Sense Enemies", 11, 11, 50, false},
	    {"Self-Healing II", 13, 13, 50, false},
	    {"Night Vision", 15, 15, 50, false},
	    {"Poison Immunity", 17, 17, 50, false},
	    {"See Invisible", 19, 19, 50, false},
	    {"Advanced Self-Healing", 21, 21, 50, false},
	    {"Resist Petrification", 23, 23, 50, false},
	    {"Stealth", 25, 25, 50, false},
	    {"Free Action", 27, 27, 50, false},
	    {"Improved Speed", 29, 29, 50, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false},
	    {"", 99, 99, 0, false}};

	spell_t *result = NULL;

	ENTER(("class_spell", "%d, %d", class, slot));
	if (slot < 0 || MAX_SPELLS <= slot) {
		MSG(("ERROR: spell out of bounds"));
		abort();
	}

	switch (class) {
	default:
	case C_WARRIOR:
		result = &no_spell; break;
	case C_MAGE:
		result = &mage_spells[slot]; break;
	case C_PRIEST:
		result = &priest_spells[slot]; break;
	case C_ROGUE:
		result = &rogue_spells[slot]; break;
	case C_RANGER:
		result = &ranger_spells[slot]; break;
	case C_PALADIN:
		result = &paladin_spells[slot]; break;
	case C_DRUID:
		result = &druid_spells[slot]; break;
	case C_BARD:
		result = &bard_spells[slot]; break;
	case C_ADVENTURER:
		result = &adventurer_spells[slot]; break;
	case C_MONK:
		result = &monk_spells[slot]; break;
	}
	LEAVE("class_spell", "");
	return result;
}
